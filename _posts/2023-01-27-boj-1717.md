---
published: true
title:  "[BOJ/ë°±ì¤€] 1717. ì§‘í•©ì˜ í‘œí˜„ (Python) - Union-Find ìµœì í™”, union-by-rank "
excerpt: ""

categories:
  - PS
tags:
  - [BOJ, Python, Union-Find]

toc: true
toc_sticky: true
 
date: 2023-01-27 10:19:54
last_modified_at: 2023-01-27 10:19:55
---
# ğŸ” ë¬¸ì œ
[ğŸ”— ë°±ì¤€ 1717. ì§‘í•©ì˜ í‘œí˜„](https://www.acmicpc.net/problem/1717)

# ğŸ’¡ í’€ì´ (union-by-rank)
ë”± ë´ë„ union-find ë¬¸ì  ë° ì‹œê°„ì´ˆê³¼ì™€ ë©”ëª¨ë¦¬ì´ˆê³¼ë•Œë¬¸ì— 10ë²ˆë„˜ê²Œ ì œì¶œí•œ.. ë¬¸ì œì´ë‹¤.


ë¶€ëª¨ê°€ ë‹¤ë¥¼ê²½ìš° union í•´ì£¼ëŠ”ë°, ì´ë•Œ ìµœì•…ì˜ ê²½ìš°ì˜ ëª¨ë“  Nê°œì˜ ë…¸ë“œê°€ ì¼ë ¬ë¡œ ë¶™ì–´ ì—°ê²°ë¦¬ìŠ¤íŠ¸ê°€ ë˜ëŠ” ìƒí™©ì´ ìƒê¸¸ ìˆ˜ ìˆë‹¤. ì´ë ‡ê²Œ ë˜ë©´ Union, Find ì—°ì‚° ëª¨ë‘ê°€ `O(N)` ì´ ë˜ì–´ë²„ë¦°ë‹¤.

union ì—°ì‚° ì‹œ **íŠ¸ë¦¬ì˜ ë ˆë²¨ì´ ë‚®ì€ ìª½ì´ í° ìª½ ë°‘ìœ¼ë¡œ ë¶™ê²Œ** í•˜ì—¬ ìµœì í™”ë¥¼ í•  ìˆ˜ ìˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ íŠ¸ë¦¬ì˜ ë†’ì´ê°€ í¬ê²Œ ë†’ì•„ì§€ëŠ”ê²ƒì„ ë°©ì§€ í•  ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ  rankë¼ëŠ” ë¦¬ìŠ¤íŠ¸ë¥¼ ì„ ì–¸í•´ íŠ¸ë¦¬ì˜ ë ˆë²¨ì„ ê¸°ë¡í•˜ë©´ì„œ unionì„ ìˆ˜í–‰í•œë‹¤.

ì´ëŸ° ìµœì í™”ë¥¼ `union-by-rank` ë¼ê³  í•œë‹¤.

```python
parent = [i for i in range(n + 1)]  # ë¶€ëª¨
rank = [0 for i in range(n + 1)]  # íŠ¸ë¦¬ì˜ ê¹Šì´
```

ë‹¤ìŒì€ union í•˜ëŠ” ì½”ë“œì´ë‹¤.

```python
def union(x, y):
    x = find(a)
    y = find(b)

    # íŠ¸ë¦¬ì˜ ë ˆë²¨ì´ ë‚®ì€ ìª½ì´ í°ìª½ ë°‘ìœ¼ë¡œ ë¶™ë„ë¡ í•´ ìµœì í™”
    if x != y:
        if rank[x] > rank[y]:
            parent[y] = x
        elif rank[x] < rank[y]:
            parent[x] = y
        else: # rank[x] == rank[y]
            parent[x] = y
            rank[y] += 1
```



# ğŸ“ƒ ì†ŒìŠ¤ì½”ë“œ
```python
import sys

input = sys.stdin.readline

n, m = map(int, input().split())
parent = [i for i in range(n + 1)]  # ë¶€ëª¨
rank = [0 for i in range(n + 1)]  # íŠ¸ë¦¬ì˜ ê¹Šì´


def union(x, y):
    x = find(a)
    y = find(b)

    # íŠ¸ë¦¬ì˜ ë ˆë²¨ì´ ë‚®ì€ ìª½ì´ í°ìª½ ë°‘ìœ¼ë¡œ ë¶™ë„ë¡ í•´ ìµœì í™”
    if x != y:
        if rank[x] > rank[y]:
            parent[y] = x
        elif rank[x] < rank[y]:
            parent[x] = y
        else:
            parent[x] = y
            rank[y] += 1  


def find(x):
    # ë£¨íŠ¸ ë…¸ë“œ ì°¾ì„ë•Œê¹Œì§€
    if parent[x] != x:
        parent[x] = find(parent[x])
    return parent[x]


for _ in range(m):
    cal, a, b = map(int, input().split())
    if cal == 0:
        union(a, b)
    if cal == 1:
        if find(a) == find(b):
            print("YES")
        else:
            print("NO")
```
<br>