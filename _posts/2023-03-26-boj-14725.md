---
published: true
title:  "[BOJ/ë°±ì¤€] 14725. ê°œë¯¸êµ´ (Java) "
excerpt: ""

categories:
  - PS
tags:
  - [BOJ, Java, Trie]

toc: true
toc_sticky: true
 
date: 2023-03-26 23:23:19
last_modified_at: 2023-03-26 23:23:20
---
# ğŸ” ë¬¸ì œ
[ğŸ”— ë°±ì¤€ 14725. ê°œë¯¸êµ´](https://www.acmicpc.net/problem/14725)

# ğŸ’¡ í’€ì´

ìš”ì¦˜ ì£¼ë¡œ ìë°”ë¡œ ë¬¸ì œí’€ì´ë¥¼ í•˜ëŠ” ì¤‘ì¸ë°, ìë°”ë¡œ íŠ¸ë¼ì´ë¥¼ êµ¬í˜„í•´ë³¸ ì ì€ ì—†ì–´ì„œ ê¸°ë¡ìœ¼ë¡œ ë‚¨ê²¨ë³¸ë‹¤.

## Trie, íŠ¸ë¼ì´?

ë¬¸ìì—´ ê²€ìƒ‰ë²•ì˜ ì¼ì¢…ìœ¼ë¡œ, Kì§„ íŠ¸ë¦¬ì˜ êµ¬ì¡°ë¥¼ ë¤ë‹¤. 'apple' ì´ë¼ëŠ” ë‹¨ì–´ë¥¼ ì°¾ìœ¼ë ¤ë©´ 'a'ë¥¼ ì°¾ê³  ë‹¤ìŒì€ 'p', 'p', 'l', 'e' ìˆœìœ¼ë¡œ ì°¾ì•„ê°€ëŠ” ê²ƒì´ë‹¤.

ë³´í†µì€ ê° ë…¸ë“œë¥¼ char ìë£Œí˜•ìœ¼ë¡œ êµ¬í˜„í•˜ì§€ë§Œ ë³¸ ë¬¸ì œì—ì„œëŠ” í•˜ë‚˜ì˜ ë‹¨ì–´ê°€ í•˜ë‚˜ì˜ ë…¸ë“œê°€ ë˜ê¸° ë•Œë¬¸ì— Stringìœ¼ë¡œ êµ¬í˜„í•œë‹¤.

![](https://onlinejudgeimages.s3-ap-northeast-1.amazonaws.com/problem/14725/1.png)

ì£¼ì–´ì§„ ê·¸ë¦¼ ê·¸ëŒ€ë¡œ íŠ¸ë¦¬ë¡œ ì˜®ê¸°ë©´ ëœë‹¤.

## Trie ìë£Œêµ¬ì¡° êµ¬í˜„

ìš°ì„  íŠ¸ë¼ì´ ìë£Œêµ¬ì¡°ì˜ ë…¸ë“œ ì—­í• ì„ í•  í´ë˜ìŠ¤ë¥¼ êµ¬í˜„í•œë‹¤.

ì‚¬ì‹¤ public ìœ¼ë¡œ ì„ ì–¸í•˜ëŠ” ê²ƒì€ ì¢‹ì€ ì½”ë“œê°€ ì•„ë‹ˆì§€ë§Œ, ìš°ë¦¬ëŠ” ì§€ê¸ˆ ê·¸ì € ë¬¸ì œë¥¼ í’€ê¸° ìœ„í•¨ì´ë¯€ë¡œ ê·€ì°®ì€ ê²Œí„°ì„¸í„° êµ¬í˜„ì€ ìƒëµí•œë‹¤.

ì—¬ê¸°ì„œ ê°€ì¥ ì¤‘ìš”í•œì ì€ ë¬¸ì œì—ì„œ **ì‚¬ì „ ìˆœì„œê°€ ì•ì„œëŠ” ë¨¹ì´ ì •ë³´ê°€ ë¨¼ì € ë‚˜ì˜¨ë‹¤.** ë¼ëŠ” ì¡°ê±´ì´ë‹¤. ì¶œë ¥ì‹œ keyê°’ì´ ì‚¬ì „ ìˆœìœ¼ë¡œ ì¶œë ¥ ë˜ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì— HashMapì´ ì•„ë‹Œ TreeMapì„ ì´ìš©í•œë‹¤.

**TreeMap**ì€ ë ˆë“œ-ë¸”ë™ íŠ¸ë¦¬ë¡œ êµ¬ì„±ë˜ì–´ ìˆì–´ í‚¤ê°’ì´ í•­ìƒ ì •ë ¬ëœì±„ë¡œ ìœ ì§€ëœë‹¤.
TreeMapì„ ì´ìš©í•˜ë©´ keySetì„ êº¼ë‚´ ì •ë ¬í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.


```java
static class TrieNode {
    public Map<String, TrieNode> childNodes = new TreeMap<>();
    public boolean isLast;
}
```

ë¨¹ì´ ì •ë³´ê°€ ë°°ì—´ë¡œ ë“¤ì–´ì˜¨ë‹¤. ë§¨ ì²˜ìŒë¶€í„° ì°¨ë¡€ëŒ€ë¡œ ìˆœíšŒí•˜ë©° ë£¨íŠ¸ ë…¸ë“œì˜ ìì‹ ë…¸ë“œì¤‘ í•´ë‹¹ ë‹¨ì–´ê°€ **ì—†ìœ¼ë©´(Absent)** ìƒˆë¡œ ë§Œë“¤ì–´ì„œ ë„£ì–´ì£¼ê³ , ì´ë¯¸ ìˆìœ¼ë©´ ê·¸ëƒ¥ ê°€ì ¸ì™€ì„œ ìì‹ ë…¸ë“œë¥¼ ë£¨íŠ¸ ë…¸ë“œë¡œ ì´ˆê¸°í™”í•œë‹¤.

ê·¸ë ‡ê²Œ ê³„ì† ìì‹ì˜ ìì‹.. ìœ¼ë¡œ ë‚´ë ¤ê°€ê²Œ ë˜ë©´ ë¬¸ìì—´ ë°°ì—´ì˜ ë§ˆì§€ë§‰ ë¬¸ìì—´ì—” ë§ˆì§€ë§‰ ë…¸ë“œë¼ëŠ” ì²´í¬ë¥¼ í•´ì¤€ë‹¤.

```java
static class Trie {
    public TrieNode rootNode;

    Trie() {
        rootNode = new TrieNode();
    }

    void insert(ArrayList<String> words) {
        TrieNode node = this.rootNode;

        for (String word : words) {
            node = node.childNodes.computeIfAbsent(word, c -> new TrieNode());
        }
        node.isLast = true;
    }
}
```

## Trie ì¶œë ¥

ìš°ì„  ë£¨íŠ¸ë…¸ë“œë¥¼ ì´ˆê¸°í™” í•´ì£¼ê³ , ê°€ì¥ ìƒìœ„ë…¸ë“œì˜ ìì‹ ë…¸ë“œë“¤ì„ ìˆœíšŒí•˜ë©° ì¬ê·€í˜¸ì¶œì„ í•´ì¤€ë‹¤.

depthë¼ëŠ” ë³€ìˆ˜ë¥¼ ê³„ì† ì¦ê°€í•˜ê²Œ ë„˜ê²¨ì£¼ì–´ '--' ì¶œë ¥ ê°¯ìˆ˜ë¥¼ ëŠ˜ë¦°ë‹¤.

```java
TrieNode node = trie.rootNode;
for (String key : node.childNodes.keySet()) {
    sb.append(key).append("\n");
    print(node.childNodes.get(key), 1);
}
```

```java
public static void print(TrieNode cur, int depth) {
    for (String key : cur.childNodes.keySet()) {
        for (int i = 0; i < depth; i++) {
            sb.append("--");
        }
        sb.append(key).append("\n");
        print(cur.childNodes.get(key), depth + 1);
    }
}
```


# ğŸ“ƒ ì†ŒìŠ¤ì½”ë“œ
```Java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.Map;
import java.util.StringTokenizer;
import java.util.TreeMap;


public class Main {

    public static int n;
    public static StringBuilder sb = new StringBuilder();

    static class TrieNode {
        public Map<String, TrieNode> childNodes = new TreeMap<>();
        public boolean isLast;
    }

    static class Trie {
        public TrieNode rootNode;

        Trie() {
            rootNode = new TrieNode();
        }

        void insert(ArrayList<String> words) {
            TrieNode node = this.rootNode;

            for (String word : words) {
                node = node.childNodes.computeIfAbsent(word, c -> new TrieNode());
            }
            node.isLast = true;
        }
    }

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        n = Integer.parseInt(br.readLine());
        Trie trie = new Trie();

        for (int i = 0; i < n; i++) {
            StringTokenizer st = new StringTokenizer(br.readLine());
            int k = Integer.parseInt(st.nextToken());
            ArrayList<String> words = new ArrayList<>();
            for (int j = 0; j < k; j++) {
                words.add(st.nextToken());
            }
            trie.insert(words);
        }

        TrieNode node = trie.rootNode;
        for (String key : node.childNodes.keySet()) {
            sb.append(key).append("\n");
            print(node.childNodes.get(key), 1);
        }

        System.out.println(sb);
    }

    public static void print(TrieNode cur, int depth) {
        for (String key : cur.childNodes.keySet()) {
            for (int i = 0; i < depth; i++) {
                sb.append("--");
            }
            sb.append(key).append("\n");
            print(cur.childNodes.get(key), depth + 1);
        }
    }
}
```
<br>